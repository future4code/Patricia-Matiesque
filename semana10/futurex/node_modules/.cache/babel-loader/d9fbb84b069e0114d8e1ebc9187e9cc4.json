{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\patie\\\\Desktop\\\\Future4\\\\Patricia-Matiesque\\\\semana10\\\\futurex\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\patie\\\\Desktop\\\\Future4\\\\Patricia-Matiesque\\\\semana10\\\\futurex\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { push, replace, goBack } from \"connected-react-router\";\nimport { routes } from \"../Router\";\nvar baseURL = \"https://us-central1-missao-newton.cloudfunctions.net/futureX/patricia/\";\nexport var login = function login(email, password) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var loginInformation, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                loginInformation = {\n                  email: email,\n                  password: password\n                };\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.post(\"\".concat(baseURL, \"login\"), loginInformation);\n\n              case 4:\n                response = _context.sent;\n                window.localStorage.setItem(\"token\", response.data.token);\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                window.alert(\"Erro no login\");\n\n              case 11:\n                dispatch(push(routes.list));\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["C:/Users/patie/desktop/future4/patricia-matiesque/semana10/futurex/src/action/login.js"],"names":["axios","push","replace","goBack","routes","baseURL","login","email","password","dispatch","loginInformation","post","response","window","localStorage","setItem","data","token","alert","list"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,MAAxB,QAAsC,wBAAtC;AACA,SAASC,MAAT,QAAuB,WAAvB;AAEA,IAAMC,OAAO,GAAG,wEAAhB;AAGA,OAAO,IAAMC,KAAK,GAAE,SAAPA,KAAO,CAACC,KAAD,EAAQC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAqB,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAC/BC,gBAAAA,gBAD+B,GACZ;AACvBH,kBAAAA,KAAK,EAALA,KADuB;AAEvBC,kBAAAA,QAAQ,EAARA;AAFuB,iBADY;AAAA;AAAA;AAAA,uBAOdR,KAAK,CAACW,IAAN,WAAcN,OAAd,YAA8BK,gBAA9B,CAPc;;AAAA;AAO/BE,gBAAAA,QAP+B;AASrCC,gBAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqCH,QAAQ,CAACI,IAAT,CAAcC,KAAnD;AATqC;AAAA;;AAAA;AAAA;AAAA;AAWrCJ,gBAAAA,MAAM,CAACK,KAAP,CAAa,eAAb;;AAXqC;AAcvCT,gBAAAA,QAAQ,CAACR,IAAI,CAACG,MAAM,CAACe,IAAR,CAAL,CAAR;;AAduC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAArB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAb","sourcesContent":["import axios from 'axios'\r\nimport { push, replace, goBack } from \"connected-react-router\";\r\nimport { routes } from \"../Router\";\r\n\r\nconst baseURL = \"https://us-central1-missao-newton.cloudfunctions.net/futureX/patricia/\"\r\n\r\n\r\nexport const login =(email, password) => async (dispatch) => {\r\n    const loginInformation = {\r\n      email,\r\n      password\r\n    }\r\n     \r\n    try{\r\n    const response = await axios.post(`${baseURL}login`, loginInformation);\r\n  \r\n    window.localStorage.setItem(\"token\", response.data.token)\r\n   }catch{\r\n    window.alert(\"Erro no login\")\r\n  }\r\n\r\n  dispatch(push(routes.list))\r\n\r\n}"]},"metadata":{},"sourceType":"module"}